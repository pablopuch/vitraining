---
import { Image } from "astro:assets";
import logoVitraining from "../assets/images/logo-sinfondo-640w.webp";
import heroBackground from "../assets/images/mujer-joven-entrenando-con-cuerda-de-batalla-en-cross-fit-gym-1280w.webp";
interface Props {
  buttonText: string;
  companyName: string;
}
const { buttonText, companyName } = Astro.props;

const bgStyle = {
  backgroundImage: `url('${heroBackground.src}')`,
};
---

<!-- #header -->
<header
  class="bg-cover bg-no-repeat bg-center bg-gray-900 bg-blend-multiply min-h-[70vh] md:min-h-[80vh] flex flex-col"
  style={bgStyle}
  role="banner"
>
  <nav
    class="text-white uppercase pt-6 md:pt-8 px-4 font-bold flex items-center justify-center gap-4"
    role="navigation"
    aria-label="Navegación principal"
  >
    <div
      class="container mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 relative z-10 text-center"
    >
      <div
        class="logo-container mx-auto mb-6 h-44 w-44 md:h-52 md:w-52 flex items-center justify-center"
      >
        <Image
          src={logoVitraining}
          alt="Vitraining Logo"
          class="h-40 md:h-48 w-auto"
          loading="eager"
          decoding="async"
          width={640}
          height={640}
        />
      </div>
      <span
        class="text-4xl md:text-5xl font-extrabold tracking-widest italic redText"
        style="letter-spacing:0.1em;">{companyName}</span
      >
    </div>
  </nav>
  <div
    class="px-4 mx-auto max-w-screen-xl text-center text-white flex-grow flex flex-col justify-center"
  >
    <h1
      class="font-extrabold text-4xl md:text-5xl lg:text-6xl tracking-wide mb-4 uppercase italic drop-shadow-lg animate-slide-up"
    >
      Entrena, mejora, disfruta
    </h1>
    <p class="mb-8 text-lg md:text-xl animate-fade-in">
      Los mejores entrenamientos específicos para alcanzar tus metas.
    </p>
    <button
      id="cta-hero-button"
      class="redBG p-3 px-8 rounded-full uppercase text-white font-bold text-base md:text-lg shadow-lg hover:scale-105 transition-all duration-300 self-center focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-gray-900"
      aria-describedby="cta-description">{buttonText}</button
    >
    <p id="cta-description" class="sr-only">
      Botón para ir al formulario de clase de prueba gratis
    </p>
  </div>
</header>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const ctaButton = document.getElementById("cta-hero-button");
    const trialForm = document.getElementById("trial-signup");

    if (ctaButton && trialForm) {
      ctaButton.addEventListener("click", function (e) {
        e.preventDefault();

        // Agregar feedback visual
        ctaButton.classList.add("scale-95");
        setTimeout(() => {
          ctaButton.classList.remove("scale-95");
        }, 150);

        trialForm.scrollIntoView({
          behavior: "smooth",
          block: "start",
        });

        // Enfocar el primer campo del formulario después del scroll
        setTimeout(() => {
          const firstInput = trialForm.querySelector(
            "input, select, textarea",
          ) as HTMLElement;
          if (firstInput) {
            firstInput.focus();
          }
        }, 800);
      });
    }
  });
</script>
